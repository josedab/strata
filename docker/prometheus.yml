# Prometheus Configuration for Strata
# Scrapes metrics from all Strata nodes

global:
  scrape_interval: 15s
  evaluation_interval: 15s

alerting:
  alertmanagers: []

rule_files: []

scrape_configs:
  # Single node configuration
  - job_name: 'strata'
    static_configs:
      - targets: ['strata:9100']
        labels:
          instance: 'strata-single'

  # Cluster configuration
  - job_name: 'strata-cluster'
    static_configs:
      - targets:
          - 'strata-node1:9100'
          - 'strata-node2:9100'
          - 'strata-node3:9100'
        labels:
          cluster: 'strata-cluster'

  # Prometheus self-monitoring
  - job_name: 'prometheus'
    static_configs:
      - targets: ['localhost:9090']
